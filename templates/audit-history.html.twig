{#
Renders grid of audit history for a single entity.

Required params:

- auditLogs App\Entity\AuditLog[]
#}
<div class="box box-primary">
    <div class="box-header with-border">
        <h3 class="box-title">History</h3>
    </div>
    <div class="box-body" style="max-height:300px;overflow:hidden;overflow-y:scroll;">
        {% for log in auditLogs %}
            <div style="margin-bottom:1em; border-bottom: 1px solid rgb(244, 244, 244);">
                {{ log.loggedAt | date('M j, Y g:ia') }} {{ log.username ? ' – '~log.username }} – {{ log.action|capitalize }}<br>
                <br>
                <dl class="dl-horizontal">
                    {% for field, value in log.fieldChanges %}
                        {% set strValue = '' %}
                        {% if value is null %}
                            {% set strValue = '(empty)' %}
                        {% elseif value is iterable %}
                            {% set strValue = value|join(', ') %}
                        {% else %}
                            {% set strValue = value %}
                        {% endif %}
                        <dt>{{ field }}</dt><dd>{{ strValue }}</dd>
                    {% endfor %}
                </dl>
            </div>
        {% endfor %}
    </div>
</div>
